<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Maniac Clic</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <!-- Подключаем THREE.js и загрузчик для 3D-моделей (GLTFLoader) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/GLTFLoader.js"></script>
</head>
<body>
    <!-- Анимированный фон (общий для всех экранов) -->
    <div class="background-gradient"></div>
    <div id="background-stars"></div>

    <!-- ЗАГРУЗОЧНЫЙ ЭКРАН -->
    <div id="loading-screen" class="loading-screen">
        <div class="loading-container">
            <div class="loading-star">
                <div class="star-core"></div>
                <div class="star-rays">
                    <div class="ray ray-1"></div>
                    <div class="ray ray-2"></div>
                    <div class="ray ray-3"></div>
                    <div class="ray ray-4"></div>
                    <div class="ray ray-5"></div>
                    <div class="ray ray-6"></div>
                    <div class="ray ray-7"></div>
                    <div class="ray ray-8"></div>
                </div>
            </div>
            <div class="loading-text">
                <h2>Maniac Clic</h2>
                <div class="loading-bar">
                    <div class="loading-progress"></div>
                </div>
                <p class="loading-message">Загружаем звёзды...</p>
            </div>
            <div class="loading-particles">
                <div class="particle particle-1"></div>
                <div class="particle particle-2"></div>
                <div class="particle particle-3"></div>
                <div class="particle particle-4"></div>
                <div class="particle particle-5"></div>
            </div>
        </div>
    </div>

    <!-- ЭКРАН ИГРЫ -->
    <div id="game-screen" class="screen hidden">
        <div class="container">
            <!-- Верхняя часть: Баланс -->
            <div class="balance-container">
                <svg class="balance-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/></svg>
                <span id="balance-counter">0</span>
            </div>

            <!-- Центральный элемент: Контейнер для 3D-звезды -->
            <div class="star-wrapper">
                <!-- Контейнер для 3D-сцены -->
                <div id="star-container"></div>
            </div>

            <!-- Нижняя часть: Энергия -->
            <div class="energy-container">
                <div class="energy-info">
                    <span>Энергия</span>
                    <span id="energy-counter">200/200</span>
                </div>
                <div class="energy-bar-wrapper">
                    <div id="energy-bar" class="energy-bar-fill"></div>
                </div>
            </div>

            <!-- Навигация -->
            <nav class="navigation">
                <button id="go-to-withdraw" class="nav-button">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12V7H5a2 2 0 0 1 0-4h14v4"/><path d="M3 5v14a2 2 0 0 0 2 2h16v-5"/><path d="M18 12a2 2 0 0 0 0 4h4v-4Z"/></svg>
                    <span>Вывод</span>
                </button>
            </nav>
        </div>
    </div>

    <!-- ЭКРАН ВЫВОДА -->
    <div id="withdraw-screen" class="screen hidden">
        <div class="container withdraw-container">
            <button id="back-from-withdraw" class="back-button">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 18 9 12 15 6"></polyline></svg>
                Назад
            </button>
            <h1>Вывод звёзд</h1>
            <div class="current-balance">
                Ваш баланс:
                <svg class="balance-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/></svg>
                <span id="withdraw-balance">0</span>
            </div>

            <!-- Контейнер для кнопок, создаваемых динамически -->
            <div id="withdraw-buttons-container" class="withdraw-buttons-container"></div>
            
            <!-- Статус и информация о выводе -->
            <div id="withdraw-info" class="withdraw-info hidden">
                <p id="withdraw-status-text" class="status-text"></p>
                <button id="withdraw-confirm-button" class="nav-button hidden">Подтвердить</button>
            </div>
            
        </div>
    </div>

    <!-- ОБЩИЕ ЭЛЕМЕНТЫ -->
    <div id="notification" class="notification hidden">Энергия восстанавливается...</div>

    <div id="success-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <h2>Успешно!</h2>
            <p id="success-message">⭐ 1 звёзд зачислены в бота.</p>
        </div>
    </div>

    <script src="main.js"></script>
</body>
</html>

